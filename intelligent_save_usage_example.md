# 智能專案記憶儲存功能使用指南

## 功能概述

智能專案記憶儲存功能可以自動分析您要儲存的內容，推薦最相關的現有專案，避免創建過多相似的專案。

## 核心功能

### 1. 智能專案推薦
- 自動分析內容關鍵字
- 計算與現有專案的相似度
- 推薦最相關的 2-3 個專案

### 2. 互動式選擇流程
- 提供編號選擇推薦專案
- 支援查看所有專案
- 支援創建新專案

### 3. 智能專案命名
- 根據內容自動建議專案名稱
- 使用關鍵字組合命名

## 使用方式

### 方式一：直接使用智能儲存（推薦）

```
用戶：請將這個討論儲存到記憶：
今天完成了 Python MCP 伺服器的智能推薦功能實作，
包括關鍵字提取、專案相似度計算和互動式儲存流程。

AI：我準備儲存這個關於 Python MCP 開發的內容。
建議的相關專案：
1. python-development
2. mcp-server
3. development-notes

請選擇編號 (1-3)，或回覆：
- '列出所有專案' 查看所有現有專案
- '新建專案' 創建新專案

會話 ID: save_1234567890

用戶：1

AI：✅ 已儲存到專案 'python-development'。
```

### 方式二：查看所有專案後選擇

```
用戶：列出所有專案

AI：所有現有專案：
1. python-development
2. mcp-server
3. database-work
4. meeting-notes
5. learning-notes

請告訴我要儲存到哪個專案，或輸入新專案名稱。
會話 ID: save_1234567890

用戶：mcp-server

AI：✅ 已儲存到專案 'mcp-server'。
```

### 方式三：創建新專案

```
用戶：新建專案

AI：創建新專案。建議名稱：intelligent-save-system

請輸入專案名稱，或回覆 '使用建議' 使用建議名稱。
會話 ID: save_1234567890

用戶：使用建議

AI：✅ 已儲存到新專案 'intelligent-save-system'。
```

## MCP 工具使用

### 1. start_intelligent_save

開始智能儲存流程：

```json
{
  "name": "start_intelligent_save",
  "arguments": {
    "content": "要儲存的內容",
    "title": "可選標題",
    "category": "可選分類"
  }
}
```

### 2. handle_save_choice

處理用戶選擇：

```json
{
  "name": "handle_save_choice",
  "arguments": {
    "session_id": "save_1234567890",
    "user_input": "1"
  }
}
```

## 智能推薦算法

### 關鍵字提取
- 移除標點符號和停用詞
- 計算詞頻
- 返回最常見的關鍵字

### 相似度計算
- 使用 Jaccard 相似度計算關鍵字重疊
- 專案名稱匹配加權
- 組合得出最終相似度分數

### 推薦策略
- 只推薦相似度 > 0.1 的專案
- 按相似度降序排列
- 最多推薦 3 個專案

## 使用建議

### 最佳實踐
1. **描述性內容**：提供足夠的上下文信息，幫助 AI 更好地推薦專案
2. **一致性命名**：使用有意義的專案名稱，便於相似度計算
3. **適當分類**：使用分類標籤幫助組織記憶

### 常見場景

#### 開發記錄
```
內容：實作了用戶認證模組，包括登入、註冊和密碼重設功能
推薦：user-auth, backend-development, web-development
```

#### 會議記錄
```
內容：產品規劃會議，討論了 Q2 功能路線圖和資源分配
推薦：meeting-notes, product-planning, quarterly-review
```

#### 學習筆記
```
內容：學習了 React Hooks 的使用方法，包括 useState 和 useEffect
推薦：react-learning, frontend-notes, javascript-study
```

## 技術細節

### 會話管理
- 每個儲存請求生成唯一會話 ID
- 會話自動過期（預設 1 小時）
- 支援並發多個儲存會話

### 錯誤處理
- 無效會話 ID 處理
- 專案名稱清理和驗證
- 儲存失敗重試機制

### 性能優化
- 關鍵字提取快取
- 專案列表快取
- 相似度計算優化

## 故障排除

### 常見問題

**Q: 為什麼沒有推薦任何專案？**
A: 可能是內容太短或沒有明顯關鍵字，系統會直接建議新專案名稱。

**Q: 推薦的專案不相關怎麼辦？**
A: 可以選擇 "列出所有專案" 查看完整列表，或創建新專案。

**Q: 會話 ID 過期了怎麼辦？**
A: 重新開始儲存流程，系統會生成新的會話 ID。

**Q: 如何提高推薦準確性？**
A: 提供更詳細的內容描述，使用一致的專案命名規範。

## 未來改進

### 計劃功能
- 機器學習推薦算法
- 用戶偏好學習
- 專案自動合併建議
- 內容重複檢測

### 性能提升
- 更快的相似度計算
- 更智能的關鍵字提取
- 更好的中文分詞支援

這個智能儲存功能大大提升了記憶管理的效率，讓您可以專注於內容創作，而不用擔心專案組織問題！